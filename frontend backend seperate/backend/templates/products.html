{% extends "layout.html" %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/products.css') }}">
{% endblock %}

{% block content %}

<div class="products-container">
    <!-- Header Section -->
    <div class="header-section">
        <div class="header-content">
            <div class="header-left">
                <h1>Built For Excellence</h1>
                <p class="tagline">Processors • Memory • Storage • Networking</p>
            </div>
            <div class="header-right">
                <div class="sort-controls">
                    <label for="sort-select">Sort By:</label>
                    <select id="sort-select" class="sort-select">
                        <option value="relevance">Relevance</option>
                        <option value="price-low-high">Price: Low to High</option>
                        <option value="price-high-low">Price: High to Low</option>
                        <option value="cores-high-low">Cores: High to Low</option>
                        <option value="newest">Newest</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="filter-toggle-mobile">
            <button id="filter-toggle-btn" class="filter-toggle">
                <span class="toggle-icon">☰</span>
                <span class="toggle-text">Filters</span>
            </button>
            <span class="result-count" id="result-count">Loading...</span>
        </div>
    </div>

    <div class="main-content">
        <!-- Sidebar Filters -->
        <aside class="filters-sidebar" id="filters-sidebar">
            <div class="filters-header">
                <h2>Filter Options</h2>
                <button id="close-filters-btn" class="close-filters">×</button>
            </div>

            <div class="filters-content">

                <!-- Category Filter -->
                <div class="filter-group">
                    <div class="filter-title">
                        <h3>Category</h3>
                        <span class="toggle-arrow">▼</span>
                    </div>
                    <div class="filter-options">
                        <label class="checkbox-label">
                            <input type="checkbox" class="filter-checkbox" data-filter="category" value="cpu">
                            <span class="checkmark"></span>
                            <span>AMD Server Processor</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" class="filter-checkbox" data-filter="category" value="cpu">
                            <span class="checkmark"></span>
                            <span>AMD Desktop Processor</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" class="filter-checkbox" data-filter="category" value="cpu">
                            <span class="checkmark"></span>
                            <span>Intel Desktop Processor</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" class="filter-checkbox" data-filter="category" value="cpu">
                            <span class="checkmark"></span>
                            <span>Intel Server Processor</span>
                        </label>
                    </div>
                </div>

                <!-- Brand Filter -->
                <div class="filter-group">
                    <div class="filter-title">
                        <h3>Brand</h3>
                        <span class="toggle-arrow">▼</span>
                    </div>
                    <div class="filter-options">
                        <label class="checkbox-label">
                            <input type="checkbox" class="filter-checkbox" data-filter="brand" value="amd">
                            <span class="checkmark"></span>
                            <span>AMD</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" class="filter-checkbox" data-filter="brand" value="intel">
                            <span class="checkmark"></span>
                            <span>Intel</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" class="filter-checkbox" data-filter="brand" value="hp">
                            <span class="checkmark"></span>
                            <span>HP</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" class="filter-checkbox" data-filter="brand" value="dell">
                            <span class="checkmark"></span>
                            <span>Dell</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" class="filter-checkbox" data-filter="brand" value="lenovo">
                            <span class="checkmark"></span>
                            <span>Lenovo</span>
                        </label>
                    </div>
                </div>

                <!-- Application Filter -->
                <div class="filter-group">
                    <div class="filter-title">
                        <h3>Application</h3>
                        <span class="toggle-arrow">▼</span>
                    </div>
                    <div class="filter-options">
                        <label class="checkbox-label">
                            <input type="checkbox" class="filter-checkbox" data-filter="application" value="desktop">
                            <span class="checkmark"></span>
                            <span>Desktop</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" class="filter-checkbox" data-filter="application" value="server">
                            <span class="checkmark"></span>
                            <span>Server</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" class="filter-checkbox" data-filter="application" value="workstation">
                            <span class="checkmark"></span>
                            <span>Workstation</span>
                        </label>
                    </div>
                </div>

                <!-- Total Cores -->
                <div class="filter-group">
                    <div class="filter-title">
                        <h3>Total Cores</h3>
                        <span class="toggle-arrow">▼</span>
                    </div>
                    <div class="filter-options">
                        <label class="checkbox-label"><input type="checkbox" class="filter-checkbox" data-filter="cores" value="0-8"><span class="checkmark"></span><span>Up to 8 Cores</span></label>
                        <label class="checkbox-label"><input type="checkbox" class="filter-checkbox" data-filter="cores" value="9-16"><span class="checkmark"></span><span>9–16 Cores</span></label>
                        <label class="checkbox-label"><input type="checkbox" class="filter-checkbox" data-filter="cores" value="17-32"><span class="checkmark"></span><span>17–32 Cores</span></label>
                        <label class="checkbox-label"><input type="checkbox" class="filter-checkbox" data-filter="cores" value="33-64"><span class="checkmark"></span><span>33–64 Cores</span></label>
                        <label class="checkbox-label"><input type="checkbox" class="filter-checkbox" data-filter="cores" value="65+"><span class="checkmark"></span><span>65+ Cores</span></label>
                    </div>
                </div>

                <!-- Price Range -->
                <div class="filter-group">
                    <div class="filter-title">
                        <h3>Price Range</h3>
                        <span class="toggle-arrow">▼</span>
                    </div>
                    <div class="price-range-container">
                        <input type="range" id="price-range" class="price-slider" min="0" max="50000" value="50000">
                        <div class="price-display">
                            <span>$0</span>
                            <span id="price-value">$50,000</span>
                        </div>
                    </div>
                </div>

                <!-- Technology -->
                <div class="filter-group">
                    <div class="filter-title">
                        <h3>Technology</h3>
                        <span class="toggle-arrow">▼</span>
                    </div>
                    <div class="filter-options">
                        <label class="checkbox-label"><input type="checkbox" class="filter-checkbox" data-filter="tech" value="3nm"><span class="checkmark"></span><span>3nm</span></label>
                        <label class="checkbox-label"><input type="checkbox" class="filter-checkbox" data-filter="tech" value="5nm"><span class="checkmark"></span><span>5nm</span></label>
                        <label class="checkbox-label"><input type="checkbox" class="filter-checkbox" data-filter="tech" value="7nm"><span class="checkmark"></span><span>7nm</span></label>
                        <label class="checkbox-label"><input type="checkbox" class="filter-checkbox" data-filter="tech" value="14nm"><span class="checkmark"></span><span>14nm</span></label>
                    </div>
                </div>

                <button id="reset-filters-btn" class="reset-btn">Reset All Filters</button>
            </div>
        </aside>

        <!-- Products Grid -->
        <div class="products-section">
            <div id="products-grid" class="products-grid">
                <div class="loading-state">
                    <div class="loader"></div>
                    <p>Loading products...</p>
                </div>
            </div>

            <div id="no-results" class="no-results" style="display:none;">
                <p>No products found matching your filters.</p>
            </div>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='javascript/product_list.js') }}"></script>

{% endblock %}
