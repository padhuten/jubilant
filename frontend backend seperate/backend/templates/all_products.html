{% extends "layout.html" %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/all_products.css') }}">
{% endblock %}

{% block content %}

<!-- Hero Banner -->
<div class="hero-banner">
    <div class="hero-content">
        <h1 class="hero-title">Explore Our Collection</h1>
        <p class="hero-subtitle">Premium Computer Hardware & Components for Every Need</p>
    </div>
</div>

<!-- Main Container -->
<div class="main-container">

    <!-- Categories Grid -->
    <div class="categories-wrapper">

        <!-- 1. CPU PROCESSORS -->
        <div class="category-section">
            <div class="category-main-card" onclick="openModal(this)">
                <div class="card-header">
                    <div class="card-icon">üñ•Ô∏è</div>
                    <div class="card-content">
                        <h3 class="category-name">CPU Processors</h3>
                        <p class="category-tagline">AMD & Intel processors for all needs</p>
                    </div>
                    <div class="expand-icon">‚ñ∂</div>
                </div>
                <div class="badge-group">
                    <span class="badge popular">Popular</span>
                    <span class="badge-count">150+ Models</span>
                </div>
            </div>
            <div class="modal-data" style="display: none;">
                <div class="subcategory-card" data-category="cpu/amd-server" data-series="9005,9004,7003,8004,4004,4005">
                    <div class="sub-icon">‚öôÔ∏è</div>
                    <h4 class="sub-title">AMD Server Processors</h4>
                    <p class="sub-description">9005, 9004, 7003, 8004, 4004, 4005 Series</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="cpu/amd-desktop" data-series="ryzen,ryzen-pro">
                    <div class="sub-icon">‚öôÔ∏è</div>
                    <h4 class="sub-title">AMD Desktop Processors</h4>
                    <p class="sub-description">Ryzen & Ryzen PRO Series</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="cpu/intel-desktop" data-series="i9,i7,i5,i3">
                    <div class="sub-icon">‚öôÔ∏è</div>
                    <h4 class="sub-title">Intel Desktop Processors</h4>
                    <p class="sub-description">Core i9, i7, i5, i3 Series</p>
                    <button class="sub-btn">Explore</button>
                </div>
            </div>
        </div>

        <!-- 2. HARD DRIVES -->
        <div class="category-section">
            <div class="category-main-card" onclick="openModal(this)">
                <div class="card-header">
                    <div class="card-icon">üíæ</div>
                    <div class="card-content">
                        <h3 class="category-name">Hard Drives</h3>
                        <p class="category-tagline">Reliable HDD storage solutions</p>
                    </div>
                    <div class="expand-icon">‚ñ∂</div>
                </div>
                <div class="badge-group">
                    <span class="badge bestseller">Best Sellers</span>
                    <span class="badge-count">120+ Models</span>
                </div>
            </div>
            <div class="modal-data" style="display: none;">
                <div class="subcategory-card" data-category="hdd/seagate" data-series="barracuda,ironwolf,skyhawk,exos,firecuda">
                    <div class="sub-icon">üìÄ</div>
                    <h4 class="sub-title">Seagate Hard Drives</h4>
                    <p class="sub-description">Barracuda, IronWolf, SkyHawk, Exos, FireCuda</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="hdd/western-digital" data-series="wd-blue,wd-red,wd-purple,wd-gold">
                    <div class="sub-icon">üìÄ</div>
                    <h4 class="sub-title">Western Digital Hard Drives</h4>
                    <p class="sub-description">WD Blue, Red, Purple, Gold</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="hdd/toshiba" data-series="p300,n300,s300,mg">
                    <div class="sub-icon">üìÄ</div>
                    <h4 class="sub-title">Toshiba Hard Drives</h4>
                    <p class="sub-description">P300, N300, S300, MG Series</p>
                    <button class="sub-btn">Explore</button>
                </div>
            </div>
        </div>

        <!-- 3. SOLID STATE DRIVES -->
        <div class="category-section">
            <div class="category-main-card" onclick="openModal(this)">
                <div class="card-header">
                    <div class="card-icon">‚ö°</div>
                    <div class="card-content">
                        <h3 class="category-name">Solid State Drives</h3>
                        <p class="category-tagline">Ultra-fast SATA & NVMe SSDs</p>
                    </div>
                    <div class="expand-icon">‚ñ∂</div>
                </div>
                <div class="badge-group">
                    <span class="badge popular">Popular</span>
                    <span class="badge-count">100+ Options</span>
                </div>
            </div>
            <div class="modal-data" style="display: none;">
                <div class="subcategory-card" data-category="ssd/samsung" data-series="870-evo,980-pro,990-pro,pm9a3">
                    <div class="sub-icon">üíø</div>
                    <h4 class="sub-title">Samsung SSDs</h4>
                    <p class="sub-description">870 EVO, 980 PRO, 990 PRO, Enterprise Series</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="ssd/crucial" data-series="mx500,p3,p5,t700">
                    <div class="sub-icon">üíø</div>
                    <h4 class="sub-title">Crucial SSDs</h4>
                    <p class="sub-description">MX500, P3, P5, T500, T700</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="ssd/micron" data-series="2400,3400,5400,7500">
                    <div class="sub-icon">üíø</div>
                    <h4 class="sub-title">Micron SSDs</h4>
                    <p class="sub-description">2400, 3400, 5400, 6500 ION, 7500 PRO</p>
                    <button class="sub-btn">Explore</button>
                </div>
            </div>
        </div>

        <!-- 4. MEMORY -->
        <div class="category-section">
            <div class="category-main-card" onclick="openModal(this)">
                <div class="card-header">
                    <div class="card-icon">üìä</div>
                    <div class="card-content">
                        <h3 class="category-name">RAM Memory</h3>
                        <p class="category-tagline">DDR4 & DDR5 memory modules</p>
                    </div>
                    <div class="expand-icon">‚ñ∂</div>
                </div>
                <div class="badge-group">
                    <span class="badge-count">80+ Variants</span>
                </div>
            </div>
            <div class="modal-data" style="display: none;">
    <div class="subcategory-card" data-category="memory/samsung">
        <div class="sub-icon">üî≤</div>
        <h4 class="sub-title">Samsung Memory</h4>
        <p class="sub-description">DDR4 & DDR5 modules</p>
        <button class="sub-btn">Explore</button>
    </div>

    <div class="subcategory-card" data-category="memory/crucial">
        <div class="sub-icon">üî≤</div>
        <h4 class="sub-title">Crucial Memory</h4>
        <p class="sub-description">DDR4 & DDR5 modules</p>
        <button class="sub-btn">Explore</button>
    </div>

    <div class="subcategory-card" data-category="memory/micron">
        <div class="sub-icon">üî≤</div>
        <h4 class="sub-title">Micron Memory</h4>
        <p class="sub-description">DDR4 & DDR5 modules</p>
        <button class="sub-btn">Explore</button>
    </div>
</div>

        </div>

        <!-- 5. MONITORS -->
        <div class="category-section">
            <div class="category-main-card" onclick="openModal(this)">
                <div class="card-header">
                    <div class="card-icon">üñºÔ∏è</div>
                    <div class="card-content">
                        <h3 class="category-name">Monitors</h3>
                        <p class="category-tagline">Business, professional & gaming displays</p>
                    </div>
                    <div class="expand-icon">‚ñ∂</div>
                </div>
                <div class="badge-group">
                    <span class="badge-count">80+ Models</span>
                </div>
            </div>
            <div class="modal-data" style="display: none;">
                <div class="subcategory-card" data-category="monitor/samsung" data-series="samsung-business,samsung-curved,samsung-gaming">
                    <div class="sub-icon">üé¨</div>
                    <h4 class="sub-title">Samsung Monitors</h4>
                    <p class="sub-description">Business, curved, gaming displays</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="monitor/aoc-philips" data-series="aoc-philips">
                    <div class="sub-icon">üé®</div>
                    <h4 class="sub-title">AOC/Philips Monitors</h4>
                    <p class="sub-description">Value & professional solutions</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="monitor/dell" data-series="ultrasharp,p-series">
                    <div class="sub-icon">üíº</div>
                    <h4 class="sub-title">Dell Monitors</h4>
                    <p class="sub-description">UltraSharp & P-series for office & design</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="monitor/hp" data-series="hp p-series,s-series,ergonomic">
                    <div class="sub-icon">üéØ</div>
                    <h4 class="sub-title">HP Monitors</h4>
                    <p class="sub-description">Business & consumer with ergonomic designs</p>
                    <button class="sub-btn">Explore</button>
                </div>
            </div>
        </div>

        <!-- 6. LAPTOPS -->
        <div class="category-section">
            <div class="category-main-card" onclick="openModal(this)">
                <div class="card-header">
                    <div class="card-icon">üíª</div>
                    <div class="card-content">
                        <h3 class="category-name">Laptops</h3>
                        <p class="category-tagline">Consumer, business & precision series</p>
                    </div>
                    <div class="expand-icon">‚ñ∂</div>
                </div>
                <div class="badge-group">
                    <span class="badge bestseller">Best Sellers</span>
                    <span class="badge-count">150+ Units</span>
                </div>
            </div>
            <div class="modal-data" style="display: none;">
                <div class="subcategory-card" data-category="laptop/consumer" data-series="aspire,swift,nitro,ideapad,yoga,legion,inspiron,xps,g-series,pavilion,envy,victus">
                    <div class="sub-icon">üéÆ</div>
                    <h4 class="sub-title">Consumer Laptops</h4>
                    <p class="sub-description">Acer Aspire/Swift/Nitro, Lenovo IdeaPad/Yoga/Legion, Dell Inspiron/XPS/G-series, HP Pavilion/Envy/Victus</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="laptop/business" data-series="expertbook,proart,travelmate,veriton,thinkpad,thinkbook,latitude,precision,probook,elitebook">
                    <div class="sub-icon">üíº</div>
                    <h4 class="sub-title">Business Laptops</h4>
                    <p class="sub-description">Asus ExpertBook, Acer TravelMate, Lenovo ThinkPad, Dell Latitude</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="laptop/precision" data-series="probook,elitebook,precision,proart">
                    <div class="sub-icon">‚ú®</div>
                    <h4 class="sub-title">Precision Series</h4>
                    <p class="sub-description">HP ProBook, EliteBook, Dell Precision, Asus ProArt</p>
                    <button class="sub-btn">Explore</button>
                </div>
            </div>
        </div>

        <!-- 7. DESKTOP SYSTEMS -->
        <div class="category-section">
            <div class="category-main-card" onclick="openModal(this)">
                <div class="card-header">
                    <div class="card-icon">üñ•Ô∏è</div>
                    <div class="card-content">
                        <h3 class="category-name">Desktop Systems</h3>
                        <p class="category-tagline">Tower, mini & workstation PCs</p>
                    </div>
                    <div class="expand-icon">‚ñ∂</div>
                </div>
                <div class="badge-group">
                    <span class="badge-count">90+ Systems</span>
                </div>
            </div>
            <div class="modal-data" style="display: none;">
                <div class="subcategory-card" data-category="desktop/asus" data-series="expertcenter,thinkcentre,legion,tiny-pc,optiplex,vostro">
                    <div class="sub-icon">üñ•Ô∏è</div>
                    <h4 class="sub-title">Tower & Mini PCs</h4>
                    <p class="sub-description">Asus ExpertCenter, Lenovo ThinkCentre/Tiny, Dell OptiPlex/Vostro</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="desktop/lenovo" data-series="precision,workstation">
                    <div class="sub-icon">üíº</div>
                    <h4 class="sub-title">Workstations</h4>
                    <p class="sub-description">Dell Precision, HP Z-series workstations</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="desktop/gaming" data-series="legion,gpu-system">
                    <div class="sub-icon">üéÆ</div>
                    <h4 class="sub-title">Gaming & High-Performance</h4>
                    <p class="sub-description">Specialized gaming & rendering systems</p>
                    <button class="sub-btn">Explore</button>
                </div>
            </div>
        </div>

        <!-- 8. NETWORKING -->
        <div class="category-section">
            <div class="category-main-card" onclick="openModal(this)">
                <div class="card-header">
                    <div class="card-icon">üåê</div>
                    <div class="card-content">
                        <h3 class="category-name">Networking</h3>
                        <p class="category-tagline">Enterprise switches & solutions</p>
                    </div>
                    <div class="expand-icon">‚ñ∂</div>
                </div>
                <div class="badge-group">
                    <span class="badge-count">55+ Products</span>
                </div>
            </div>
            <div class="modal-data" style="display: none;">
                <div class="subcategory-card" data-category="networking/aruba" data-series="switches,poe">
                    <div class="sub-icon">üì°</div>
                    <h4 class="sub-title">Aruba Switches</h4>
                    <p class="sub-description">Enterprise managed & PoE switches</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="networking/aruba-instanton">
                    <div class="sub-icon">‚òÅÔ∏è</div>
                    <h4 class="sub-title">Aruba Instant On</h4>
                    <p class="sub-description">SMB networking with cloud management</p>
                    <button class="sub-btn">Explore</button>
                </div>
            </div>
        </div>

        <!-- 9. SERVER & STORAGE -->
        <div class="category-section">
            <div class="category-main-card" onclick="openModal(this)">
                <div class="card-header">
                    <div class="card-icon">üîí</div>
                    <div class="card-content">
                        <h3 class="category-name">Server & Storage</h3>
                        <p class="category-tagline">Enterprise-grade solutions</p>
                    </div>
                    <div class="expand-icon">‚ñ∂</div>
                </div>
                <div class="badge-group">
                    <span class="badge premium">Premium</span>
                    <span class="badge-count">80+ Solutions</span>
                </div>
            </div>
            <div class="modal-data" style="display: none;">
                <div class="subcategory-card" data-category="server-storage/supermicro" data-series="barebone,gpu-server,workstation-class">
                    <div class="sub-icon">üè¢</div>
                    <h4 class="sub-title">Super Micro Systems</h4>
                    <p class="sub-description">Motherboards, Barebones, GPU Servers</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="server-storage/asus" data-series="workstation,gpu-system,rack server">
                    <div class="sub-icon">‚öôÔ∏è</div>
                    <h4 class="sub-title">Asus Server Solutions</h4>
                    <p class="sub-description">Barebones, Workstations, GPU Systems</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="server-storage/lenovo" data-series="thinksystem">
                    <div class="sub-icon">üì¶</div>
                    <h4 class="sub-title">Lenovo ThinkSystem</h4>
                    <p class="sub-description">Servers & enterprise storage solutions</p>
                    <button class="sub-btn">Explore</button>
                </div>
            </div>
        </div>

        <!-- 10. DOCKING STATIONS -->
        <div class="category-section">
            <div class="category-main-card" onclick="openModal(this)">
                <div class="card-header">
                    <div class="card-icon">üîå</div>
                    <div class="card-content">
                        <h3 class="category-name">Docking Stations</h3>
                        <p class="category-tagline">USB-C, Thunderbolt & universal docks</p>
                    </div>
                    <div class="expand-icon">‚ñ∂</div>
                </div>
                <div class="badge-group">
                    <span class="badge-count">30+ Models</span>
                </div>
            </div>
            <div class="modal-data" style="display: none;">
                <div class="subcategory-card" data-category="dock/dell" data-series="dell-dock">
                    <div class="sub-icon">üîó</div>
                    <h4 class="sub-title">Dell Docking Stations</h4>
                    <p class="sub-description">USB-C & Thunderbolt docks</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="dock/lenovo" data-series="lenovo-dock">
                    <div class="sub-icon">üîó</div>
                    <h4 class="sub-title">Lenovo Docking Stations</h4>
                    <p class="sub-description">ThinkPad docking solutions</p>
                    <button class="sub-btn">Explore</button>
                </div>
                <div class="subcategory-card" data-category="dock/hp" data-series="hp-dock">
                    <div class="sub-icon">üîó</div>
                    <h4 class="sub-title">HP Docking Stations</h4>
                    <p class="sub-description">Universal & Thunderbolt docks</p>
                    <button class="sub-btn">Explore</button>
                </div>
            </div>
        </div>

    </div>

    <!-- Call to Action Section -->
    <div class="cta-section">
        <div class="cta-content">
            <h2 class="cta-title">Ready to Build or Upgrade?</h2>
            <p class="cta-subtitle">Browse our complete collection or contact our experts for personalized recommendations</p>
            <button class="cta-button" onclick="scrollToTop()">Explore Categories</button>
        </div>
    </div>

</div>

<!-- Modal Overlay -->
<div class="modal-overlay" id="modalOverlay" onclick="closeModal()"></div>

<!-- Modal Container -->
<div class="modal-container" id="modalContainer">
    <div class="modal-header">
        <h2 class="modal-title" id="modalTitle">Category</h2>
        <button class="modal-close" onclick="closeModal()">‚úï</button>
    </div>
    <div class="modal-content-wrapper">
        <div class="modal-subcategories" id="modalSubcategories"></div>
    </div>
</div>

<script>
    function openModal(element) {
        const categoryCard = element;
        const modalData = element.nextElementSibling;
        const categoryTitle = element.querySelector('.category-name').textContent;
        
        // Get all subcategories
        const subcategories = modalData.querySelectorAll('.subcategory-card');
        
        // Set modal title
        document.getElementById('modalTitle').textContent = categoryTitle;
        
        // Clear and populate modal content
        const modalSubcategories = document.getElementById('modalSubcategories');
        modalSubcategories.innerHTML = '';
        
        subcategories.forEach((card, index) => {
            const clone = card.cloneNode(true);
            clone.style.animationDelay = `${index * 0.1}s`;
            
            // Add click event to explore button
            const btn = clone.querySelector('.sub-btn');
            btn.onclick = function (e) {
                e.preventDefault();

                const categoryPath = card.getAttribute('data-category').toLowerCase();
                const seriesString = card.getAttribute('data-series');

                // üî• MEMORY: go ONLY to brand page
                if (categoryPath.startsWith("memory/")) {
                    window.location.href = `/products/${categoryPath}`;
                    return;
                }

                // üëâ If no series info
                if (!seriesString) {
                    window.location.href = `/products/${categoryPath}`;
                    return;
                }

                const seriesList = seriesString.split(',').map(s => s.trim());

                // üëâ If multiple series ‚Üí go to subcategory page
                if (seriesList.length > 1) {
                    window.location.href = `/products/${categoryPath}`;
                }
                // üëâ If exactly one series ‚Üí go to series page
                else {
                    window.location.href = `/products/${categoryPath}/${seriesList[0]}`;
                }
            };
            
            modalSubcategories.appendChild(clone);
        });
        
        // Show modal
        document.getElementById('modalOverlay').classList.add('active');
        document.getElementById('modalContainer').classList.add('active');
    }

    function closeModal() {
        document.getElementById('modalOverlay').classList.remove('active');
        document.getElementById('modalContainer').classList.remove('active');
    }

    function scrollToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Close modal on escape key
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            closeModal();
        }
    });

    // Add scroll animation observer
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-in');
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);

    document.querySelectorAll('.category-section').forEach(el => {
        observer.observe(el);
    });
</script>

{% endblock %}