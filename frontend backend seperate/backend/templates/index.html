{% extends "layout.html" %}

{% block body_class %}home-page{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
{% endblock %}

{% block content %}
<main class="index-page">

<!-- ================= HERO SECTION ================= -->
<section class="hero-section">
  <div class="hero-content">
    <h1>Your Trusted Partner in Global IT Component Solutions</h1>
    <p>Providing cutting-edge hardware and unparalleled service to power your business.</p>
    <button class="cta-button">Shop Now</button>
  </div>

  <div class="hero-image">
    <img src="/static/images/hero-image.webp" alt="Hero">
  </div>
</section>

<!-- ================= ABOUT SECTION ================= -->
<section id="aboutus" class="section-full">
  <div class="about-content">
    <h2><b>JUBILANT SYSTEM</b></h2>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Inventore veniam nemo accusantium.</p>
  </div>

  <div class="about-more">
    <button id="viewMoreBtn">View More</button>
  </div>
</section>

<!-- ================= SPECIALIZES ================= -->
<section id="specializes" class="section-full-light">
  <h2>SPECIALIZES IN</h2>
  <p>Processors, Memories, SSDs, HDDs, Computer Products & Peripherals.</p>
</section>

<!-- ================= HOT PRODUCTS ================= -->
<section class="product-section section-inner">
  <div class="header">
    <h2>HOT PRODUCTS</h2>
    <div class="arrows">
      <button id="leftBtn">&#10094;</button>
      <button id="rightBtn">&#10095;</button>
    </div>
  </div>

  <div class="product-slider" id="productSlider">
    {% for i in range(10) %}
    <div class="product-card">
      <img src="/static/images/md turin 9745.jpg" alt="product">
      <h3>AMD TURIN 9745</h3>
      <p>AMD EPYCâ„¢ (128-Core)</p>
      <span class="price">$452</span>
    </div>
    {% endfor %}
  </div>
</section>

<!-- ================= BRANDS ================= -->
<section class="featured-brands section-full-dark">
  <h2>Our Trusted Brands</h2>

  <div class="brands-container">
    <div class="brands-slider">

      <div class="brand-item">
        <img src="/static/images/amd logo.png" alt="AMD Logo">
        <span class="brand-name">AMD</span>
      </div>

      <div class="brand-item">
        <img src="/static/images/intel-logo.webp" alt="Intel Logo">
        <span class="brand-name">Intel</span>
      </div>

      <div class="brand-item">
        <img src="/static/images/Dell-removebg-preview.png" alt="Dell Logo">
        <span class="brand-name">Dell</span>
      </div>

      <div class="brand-item">
        <img src="/static/images/Lenovo-removebg-preview.png" alt="Lenovo Logo">
        <span class="brand-name">Lenovo</span>
      </div>

    </div>
  </div>
</section>

<!-- ================= CONTACT (INQUIRY FORM) ================= -->
<section class="contact-section section-inner">
  <h2>CONTACT US</h2>

  <div class="inquiry-form-container">

    <!-- ðŸ”¥ WORKING MAIL FORM FOR INDEX PAGE -->
    <form id="indexInquiryForm" class="inquiry-form" action="/send-inquiry" method="POST">

      <!-- Required backend fields -->
      <input type="hidden" name="product" value="Website Index Inquiry">
      <input type="hidden" name="phone" value="N/A">

      <input type="text" name="name" placeholder="Product Name" required>
      <input type="text" name="quantity" placeholder="Quantity">
      <input type="email" name="email" placeholder="Email" required>
      <textarea rows="5" name="message" placeholder="Inquiry Details"></textarea>

      <button type="submit" class="submit-button">Submit</button>

      <p id="indexFormMsg" style="display:none;"></p>
    </form>

  </div>
</section>

</main>

<!-- ================= PAGE JS ================= -->
<script>
  // View More Button
  document.getElementById("viewMoreBtn").onclick = () => {
    window.location.href = "/aboutus";
  };

  // Product Slider
  const slider = document.getElementById("productSlider");
  document.getElementById("leftBtn").onclick = () => slider.scrollLeft -= 300;
  document.getElementById("rightBtn").onclick = () => slider.scrollLeft += 300;
</script>

<!-- ================= INDEX FORM MAIL JS ================= -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("indexInquiryForm");
    if (!form) return;

    const btn = form.querySelector(".submit-button");
    const msg = document.getElementById("indexFormMsg");

    form.addEventListener("submit", async (e) => {
        e.preventDefault();

        // Button loading state
        btn.disabled = true;
        btn.classList.add("loading");
        msg.style.display = "none";

        try {
            const res = await fetch("/send-inquiry", {
                method: "POST",
                body: new FormData(form)
            });

            if (res.ok) {
                msg.textContent = "Inquiry sent successfully! ðŸŽ‰ We'll get back to you soon.";
                msg.className = "success";
                msg.style.display = "block";
                form.reset();
            } else {
                throw new Error();
            }

        } catch (err) {
            msg.textContent = "Error sending inquiry ðŸ˜“ Please try again.";
            msg.className = "error";
            msg.style.display = "block";
        }

        // Reset button
        btn.disabled = false;
        btn.classList.remove("loading");
    });
});
</script>

{% endblock %}
